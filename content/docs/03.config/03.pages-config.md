---
title: pages.config 配置
description: 掌握全局配置文件 pages.config.ts 的用法，统一管理项目级页面配置。
---

## 概述

`pages.config.ts` 是 uni-pages 的全局配置文件，用于定义项目级的页面配置。它的内容会与各页面中 `definePageMeta` 的配置合并，最终生成 `pages.json`。

```ts [src/pages.config.ts]
import { defineConfig } from 'uni-pages'

export default defineConfig({
  globalStyle: {
    navigationBarTextStyle: 'black',
    navigationBarTitleText: 'uni-app',
    navigationBarBackgroundColor: '#F8F8F8',
  },
})
```

## 文件位置

默认情况下，uni-pages 会在 `src` 目录下查找以下文件（按优先级排序）：

1. `pages.config.ts`
2. `pages.config.js`
3. `pages.config.mjs`
4. `pages.config.mts`

::note
推荐使用 `pages.config.ts` 以获得完整的类型支持。
::

## 配置属性

### pages

预定义的页面列表。通常不需要手动配置，uni-pages 会自动扫描页面目录。

```ts
export default defineConfig({
  pages: [
    {
      path: 'pages/index/index',
      style: {
        navigationBarTitleText: '首页',
      },
    },
  ],
})
```

::warning
如果在 `pages.config.ts` 中配置了某个页面，该配置会与页面中的 `definePageMeta` 配置进行合并，`definePageMeta` 的配置优先级更高。
::

### globalStyle

全局页面样式配置，对所有页面生效。

```ts
export default defineConfig({
  globalStyle: {
    navigationBarTextStyle: 'black',
    navigationBarTitleText: 'uni-app',
    navigationBarBackgroundColor: '#F8F8F8',
    backgroundColor: '#F8F8F8',
    enablePullDownRefresh: false,
    onReachBottomDistance: 50,
  },
})
```

### subPackages

分包配置。通常与 `subPackageDirs` 插件选项配合使用。

```ts
export default defineConfig({
  subPackages: [
    {
      root: 'pages-user',
      pages: [],
      // 分包插件配置
      plugins: {
        'uni-id-pages': {
          version: '1.0.0',
          provider: 'https://your-cloud-function.com',
        },
      },
    },
  ],
})
```

### tabBar

底部 TabBar 配置。

```ts
export default defineConfig({
  tabBar: {
    color: '#999999',
    selectedColor: '#007AFF',
    backgroundColor: '#ffffff',
    borderStyle: 'black',
    list: [
      {
        pagePath: 'pages/index/index',
        text: '首页',
        iconPath: 'static/tab/home.png',
        selectedIconPath: 'static/tab/home-active.png',
      },
      {
        pagePath: 'pages/user/index',
        text: '我的',
        iconPath: 'static/tab/user.png',
        selectedIconPath: 'static/tab/user-active.png',
      },
    ],
  },
})
```

### easycom

自定义组件自动导入规则。

```ts
export default defineConfig({
  easycom: {
    autoscan: true,
    custom: {
      '^sk-(.*)': '@skiyee/uni-ui/sk-$1.vue',
      '^my-(.*)': '@/components/my-$1/index.vue',
    },
  },
})
```

## 条件编译

`pages.config.ts` 同样支持平台条件编译语法：

```ts
export default defineConfig({
  globalStyle: {
    navigationBarTitleText: {
      'h5': 'uni-app H5',
      'mp-weixin': 'uni-app 小程序',
      'default': 'uni-app',
    },
  },
})
```

::callout{icon="i-lucide-book-open" color="primary"}
完整的条件编译语法和示例请参阅 [条件编译](/pages/docs/features/conditional-compilation) 文档。
::

## 完整配置示例

```ts [src/pages.config.ts]
import { defineConfig } from 'uni-pages'

export default defineConfig({
  // 全局样式
  globalStyle: {
    navigationBarTextStyle: 'black',
    navigationBarTitleText: 'My App',
    navigationBarBackgroundColor: '#ffffff',
    backgroundColor: '#f5f5f5',
  },
  
  // 分包配置
  subPackages: [
    {
      root: 'pages-sub',
      pages: [],
    },
  ],
  
  // TabBar 配置
  tabBar: {
    color: '#999',
    selectedColor: '#007AFF',
    backgroundColor: '#fff',
    list: [
      {
        pagePath: 'pages/index/index',
        text: '首页',
        iconPath: 'static/tab/home.png',
        selectedIconPath: 'static/tab/home-active.png',
      },
      {
        pagePath: 'pages/user/index',
        text: '我的',
        iconPath: 'static/tab/user.png',
        selectedIconPath: 'static/tab/user-active.png',
      },
    ],
  },
  
  // 组件自动导入
  easycom: {
    autoscan: true,
    custom: {
      '^sk-(.*)': '@skiyee/uni-ui/sk-$1.vue',
    },
  },
})
```